DROP POLICY IF EXISTS "Allow privileged users to delete pledges" ON public.project_pledges;
CREATE POLICY "Allow privileged users to delete pledges" ON public.project_pledges FOR DELETE TO authenticated USING ( (EXISTS ( SELECT 1 FROM profiles WHERE ((profiles.id = (SELECT auth.uid())) AND (profiles.role = ANY (ARRAY['Admin'::text, 'Super Admin'::text, 'Project Manager'::text]))))) );